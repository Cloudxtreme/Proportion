Proportion 0.1.4.3, Роман Стороженко <info@storozhenko.org>
GPL лицензия (смотри COPYING)

Система баш-скриптов генерирующая html страницы.

СОДЕРЖИМОЕ
==========

   * Установка на Linux и на другие платформы
   * Запуск системы
   * Использование системы


Установка на Linux и на другие платформы
========================================
1) Для начала Вы должны установить следующие программы: imagemagick, mp3info, bc, awk, perl
sudo apt-get install [программа]

2) Затем распакуйте zip архив со скриптами.


Запуск системы
==============
Вы можете начать работу с системой выполнив следующие команды:

$ cd proportion-0.1.4.3
$ bash setup [опция]
или
./setup [options]

Опции для 'setup':
  no                 	     Отключить command_only режим (появляются подсказки)
  yes [or any]		     Включить comand_only режим (только ввод значений)

Синхронизировать страницы и файлы с Вашим сайтом:

./upload


ИСПОЛЬЗОВАНИЕ СИСТЕМЫ
=====================

Внимание! Чтобы система не давала сбои, необходимо убрать из названия файлов которые Вы хотите добавить на страницу - пробелы. Либо заменить пробелы и другие знаки таким символом "_" 
Вы не можете использовать тире. Если вы не будете соблюдать указанные правила работы с системой  - система гарантированно перестанет работать.

		setup		Основной скрипт управляющий добавлением и удалением элементов.
		makepage	Скрипт собирает страницу из отдельных элементов.
		makelink	Скрипт связывает ссылками отдельные страницы. Создает перекрестную линковку страниц.
		genElement	Скрипт генерирует код для элементов различных типов.
		scaleimage	Скрипт пропорционально изменяет размер изображений, уменьшая или увеличивая его под стандартный размер изображения для галереи.
		sleeper		Скрипт работает с файлом рубрики, изменяет значения счетчиков и прочее.
		rss_gen		Скрипт генерирует RSS ленту.
		upload		Скрипт загружает файлы html и связанные с ними файлы (изображения, звук, миниатюры, архивы) 

ИСПОЛЬЗОВАНИЕ:
==============

setup [опция]

	no		Отключает command_only режим. (появляются подсказки)
	yes [or any]	Включает comand_only режим. (только ввод значений)

makepage [опция1] [опция2]

	[опция1]	Номер рубрики
	[опция2]	Номер страницы

makelink [опция1] [опция2]

	[опция1]	Номер рубрики
	[опция2]	Номер страницы

genElement [filename_short] [type_element] [src] [src_mod] [htmlfile] [data] [rubric_number] [page_number] [element_number] [file_name] [rubrick_name]
	
	[filename_short] Имя файла без расширения

	[type_element]	Тип файла
			Возможные типы элементов:
			image, text, music, archive

	[src]		Полный путь к файлу. Используйте относительные пути, например:  ./Path/to/file

	[src_mod]	Полный путь к миниатюре изображения.
			Используйте относительные пути, например:  ./Path/to/file

	[htmlfile]	Расширение для файлов Attach (элементы)
			По умолчанию *.attach

	[data]		Файл настройки рубрики.
			Например:  ./rubrick/1r:Untitled_100.data

	[rubric_number]	Порядковый номер рубрики (rubrick)
			Например: 1

	[page_number]	Порядковый номер страницы (в рубрике)
			Например: 1

	[element_number]Порядковый номер элемента на странице 
			Например: 1

	[file_name]	Имя файла
			Например: Untitled_file.jpg

	[rubrick_name]	Имя рубрики
			Например: Untitled_100

scaleimage [image] [image_mod] [Hcanvas] [Wcanvas]

	[image]		Полный путь к изображению. Используйте относительные пути, например:  ./Path/to/file

	[image_mod]	Полный путь к миниатюре изображения.

	[Hcanvas]	Высота холста, в которую будет вписано изображение.
			По умолчанию: 153 px

	[Wcanvas]	Ширина холста, в которую будет вписано изображение.
			По умолчанию: 153 px

sleeper	[full_name_rubrick] [file_name] [type_element] [опция]

[full_name_rubrick]	Файл настройки рубрики.
			Например: 1r:Untitled_100.data

	[file_name]	Имя файла
			Например: Untitled_file.jpg

     [type_element]	Тип файла
			Возможные типы элементов:
			image, text, music, archive

	    [опция]	Относительный или абсолютный путь к исходному файлу.
			-r   or  -a

ФАЙЛЫ НАСТРОЕК:
=======================

Слудующие файлы настроек можно изменять:
	
	1r:Untitled.data	Настройка рубрики (rubrick). Там можно указать путь: ко всем рабочим директориям; к файлу шаблона страницы.
	
	rssconfig		Содержит основную настройку для RSS.
	
	news_container		Содержит текущюю настройку для RSS - счетчик обновления ленты.
	
	thumbnail.conf		Содержит настройку миниатюр изображений. Распологается в директории ./thumbs

	ftpconfig		Содержит настройку FTP ресурса, куда будут загружаться материалы, файлы, страницы.

ДИРЕКТОРИИ:
=======================

Назначение директорий:
	
	attach			Предназначена для хранения всех элементов.
	
	img			Директория для хранения всех типов изображений. Внимание! В имени файла не должно быть служебных символов, пробелов или тире.

	last_image		Директория содержит один файл с информацией о последнем добавленном элементе - а  именно изображении.

	music			Предназачена для хранения музыкальных записей.

	res			Предназначена для хранения файлов, CSS и других элементов оформления.
	
	rubrick			Предназначена для хранения файлов настроек рубрик (rubrick)

	SCRIPT_FAST_ACESS	Содержит скрипты для быстрого запуска функций. Удобно для назначения их в качестве команд для кнопок на панель - так как не имеют параметров.

	template		Директория содержит файл шаблона для страниц(ы).
				Теги, используемые в шаблоне:

		<!--Заголовок_страницы-->		Заголовок страницы
		<!--Название_рубрики(страницы)-->	Название рубрики
		<!--Контент--> 				Контент страницы. После этого тега будут вставлены все элементы для этой страницы.
		<!--Переключатель_страниц-->		Переключатель страниц

	Заметка: Вы можете добавлять свои теги, для этого нужно добавить описание тегов в файл makepage в соответствующую функцию.


	text			Директория содержит файлы только с расширением txt.
				Данные файлы могут содержать гипертекстовую разметку, то есть в том числе часть оформления (html, css),
				или же полгностью состоять из разметки.

				Для простого текста: чтобы создать новый параграф необходимо вставить символ ¶

	thumbs			Директория содержит файл настройки миниатюр изображений и сами миниатюры.

	<YOUR_CATALOGUE>	Директория с любым названием. 
				Создается автоматически когда вы добавляете файл настройки рубрики с определенным названием, 
				и затем добавляете первый элемент в данную рубрику. 
				Содержит html файл и директорию с файлами линковщика. 
				Файлы линковки вам в будущем не понадобятся.

http://storozhenko.org/blog/README

